"use strict";(self.webpackChunkambari_website=self.webpackChunkambari_website||[]).push([[6988],{28453:(e,r,i)=>{i.d(r,{R:()=>a,x:()=>d});var s=i(96540);const n={},t=s.createContext(n);function a(e){const r=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(t.Provider,{value:r},e.children)}},53306:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"ambari-dev/ambari-code-layout","title":"Ambari Code Layout","description":"Ambari code checkout and build instructions are available in Ambari Development page.","source":"@site/versioned_docs/version-2.7.5/ambari-dev/ambari-code-layout.md","sourceDirName":"ambari-dev","slug":"/ambari-dev/ambari-code-layout","permalink":"/docs/2.7.5/ambari-dev/ambari-code-layout","draft":false,"unlisted":false,"editUrl":"https://github.com/vivostar/vivostar.github.io/tree/master/versioned_docs/version-2.7.5/ambari-dev/ambari-code-layout.md","tags":[],"version":"2.7.5","frontMatter":{},"sidebar":"ambariSidebar","previous":{"title":"Development Process for New Major Features","permalink":"/docs/2.7.5/ambari-dev/development-process-for-new-major-features"},"next":{"title":"Apache Ambari JIRA","permalink":"/docs/2.7.5/ambari-dev/apache-ambari-jira"}}');var n=i(74848),t=i(28453);const a={},d="Ambari Code Layout",o={},l=[{value:"Ambari-Server",id:"ambari-server",level:2},{value:"Ambari-Agent",id:"ambari-agent",level:2},{value:"Ambari-Views",id:"ambari-views",level:2},{value:"Ambari-Web",id:"ambari-web",level:2}];function c(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"ambari-code-layout",children:"Ambari Code Layout"})}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.em,{children:"Ambari code checkout and build instructions are available in Ambari Development page."}),"\n",(0,n.jsxs)(r.em,{children:["Ambari design and architecture is detailed in ",(0,n.jsx)(r.a,{href:"/docs/2.7.5/ambari-design/",children:"Ambari Design"})," page."]}),"\n",(0,n.jsx)(r.em,{children:"Understanding the architecture of Ambari is helpful in navigating code easily."})]}),"\n",(0,n.jsx)(r.p,{children:"Ambari's source has the following layout"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"ambari/\n   ambari-agent/\n   ambari-common/\n   ambari-project/\n   ambari-server/\n   ambari-views/\n   ambari-web/\n   contrib/\n   docs/\n"})}),"\n",(0,n.jsx)(r.p,{children:"Major components of Ambari reside in their own sub-folders under the root folder, to maintain clean separation of code."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Folder"}),(0,n.jsx)(r.th,{children:"Components or Purpose"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"ambari-server"}),(0,n.jsx)(r.td,{children:"Code for the main Ambari server which manages Hadoop through the agents installed on each node."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"ambari-agent"}),(0,n.jsx)(r.td,{children:"Code for the Ambari agents which run on each node that the server above manages."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"ambari-web"}),(0,n.jsx)(r.td,{children:"Code for Ambari Web UI which interacts with the Ambari server above."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"ambari-views"}),(0,n.jsx)(r.td,{children:"Code for Ambari Views, the framework for extending the Ambari Web UI."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"ambari-common"}),(0,n.jsx)(r.td,{children:"Any common code between Ambari Server and Agents."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"contrib"}),(0,n.jsx)(r.td,{children:"Code for any custom contributions Ambari makes to other third party software or libraries."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"docs"}),(0,n.jsx)(r.td,{children:"Basic Ambari documentation, including the Ambari REST API."})]})]})]}),"\n",(0,n.jsx)(r.p,{children:"Ambari Server and Agents interact with each other via an internal JSON protocol.\nAmbari Web UI interacts with Ambari Server through the documented Ambari REST APIs."}),"\n",(0,n.jsx)(r.h2,{id:"ambari-server",children:"Ambari-Server"}),"\n",(0,n.jsx)(r.h2,{id:"ambari-agent",children:"Ambari-Agent"}),"\n",(0,n.jsx)(r.h2,{id:"ambari-views",children:"Ambari-Views"}),"\n",(0,n.jsx)(r.h2,{id:"ambari-web",children:"Ambari-Web"}),"\n",(0,n.jsxs)(r.p,{children:["The Ambari Web UI is a purely browser side JavaScript application based on the ",(0,n.jsx)(r.a,{href:"http://emberjs.com/",children:"Ember"})," JavaScript framework. A good understanding of ",(0,n.jsx)(r.a,{href:"http://emberjs.com/",children:"Ember"}),"  is necessary to easily understand the code and its layout."]}),"\n",(0,n.jsx)(r.p,{children:"Being a pure JavaScript application, all UI is rendered locally in browser; with data coming from the Ambari REST APIs provided by the Ambari Server."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{children:"ambari-web/\n   app/\n   config.coffee\n   package.json\n   pom.xml\n   test/\n   vendor/\n"})}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Folder"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"app/"}),(0,n.jsx)(r.td,{children:"The main application code. This contains Ember's views, templates, controllers, models, routes, etc. for rendering Ambari UI"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"config.coffee"}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.a,{href:"http://brunch.io/",children:"Brunch"})," application builder configuration file"]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"package.json"}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.a,{href:"https://npmjs.org/",children:"npm"})," package manager configuration file"]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"test/"}),(0,n.jsx)(r.td,{children:"Javascript test files testing functionality written in app/ folder"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"vendor/"}),(0,n.jsx)(r.td,{children:"Third party javascript libraries and stylesheets used. Full list of third party libraries is documented in /ambari/ambari-web/app/assets/licenses/NOTICE.txt"})]})]})]}),"\n",(0,n.jsx)(r.p,{children:"Developers mainly work on javascript and other files in the app/ folder. Once that is done, the final javascript is built using Brunch (a HTML5 application assembler based on node.js) into the /ambari/ambari-web/public/ folder. This folder contains the index.html which bootstraps the Ambari web application."}),"\n",(0,n.jsx)(r.p,{children:"Developers while working should use the"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"brunch w\n"})}),"\n",(0,n.jsx)(r.p,{children:"command to launch Brunch in watch mode where it re-generates the final application on any change. Similarly"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"brunch watch --server (or use the shorthand: brunch w -s)\n"})}),"\n",(0,n.jsxs)(r.p,{children:["launches a HTTP server at ",(0,n.jsx)(r.a,{href:"http://localhost:3333",children:"http://localhost:3333"})," serving the final application. This is helpful in seeing UI with mock data, without the entire Ambari server deployed."]}),"\n",(0,n.jsxs)(r.p,{children:['Note: see "',(0,n.jsx)(r.a,{href:"/docs/2.7.5/ambari-dev/coding-guidelines-for-ambari",children:"Coding Guidelines for Ambari"}),'" for more details on building and running Ambari Web locally.']}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"ambari-web/app"})}),"\n",(0,n.jsx)(r.p,{children:"Since ambari-web/app/ folder is where developers spend a majority of time, the major files and their purpose is listed below."}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Folder or File"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"assets/"}),(0,n.jsx)(r.td,{children:"Mock data under assets/data. Static files given from server via assets/font, assets/img."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"controllers/"}),(0,n.jsx)(r.td,{children:"The C in MVC. Ember controllers for the main application controllers/main, installer controllers/wizard, and common controllers controllers/global"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"data/"}),(0,n.jsx)(r.td,{children:"Meta data for the application (UI metadata, server data metadata, etc.)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"mappers/"}),(0,n.jsx)(r.td,{children:"Classes which map server side JSON data structures into client side Ember models."})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"models/"}),(0,n.jsxs)(r.td,{children:["The M in MVC. ",(0,n.jsx)(r.a,{href:"http://emberjs.com/guides/models/",children:"Ember Data"})," models used. Clusters, Services, Hosts, Alerts, etc. models are defined here"]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"routes/"}),(0,n.jsxs)(r.td,{children:[(0,n.jsx)(r.a,{href:"http://emberjs.com/guides/routing/",children:"Ember routes"})," defining the various page redirections in the application. main.js contains the main application routes. installer.js contains installer routes. Others are routings in various wizards etc."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"styles/"}),(0,n.jsxs)(r.td,{children:["CSS stylesheets represented in the ",(0,n.jsx)(r.a,{href:"http://lesscss.org/",children:"less"})," format. This is compiled by Brunch into the ambari-web/public/stylesheets/app.css"]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"views/"}),(0,n.jsx)(r.td,{children:"The V in MVC. Contains all the Ember views of the application. Main application views under views/main, installer views under views/installer, and common views under views/commons"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"templates/"}),(0,n.jsx)(r.td,{children:"The HTML templates used by the views above. Generally a view will have a template file. Sometimes views define the template content in themselves as strings"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"app.js"}),(0,n.jsx)(r.td,{children:"The main Ember application"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"config.js"}),(0,n.jsx)(r.td,{children:"Main configuration file for the javascript application. Developer can keep application in test mode using the App.testMode property etc."})]})]})]}),"\n",(0,n.jsx)(r.p,{children:"If a developer adds, removes, or renames a model, view, controller, template, route, they should update the corresponding entry in models.js, views.js, controllers.js, templates.js, routes.js files."})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);