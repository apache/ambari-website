"use strict";(self.webpackChunkambari_website=self.webpackChunkambari_website||[]).push([[7735],{28:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"ambari-dev/running-tests","title":"Running Tests","description":"This guide explains how to run different types of tests in Apache Ambari. For the official test configuration, you can refer to the Ambari Jenkinsfile.","source":"@site/versioned_docs/version-3.0.0/ambari-dev/running-tests.md","sourceDirName":"ambari-dev","slug":"/ambari-dev/running-tests","permalink":"/docs/3.0.0/ambari-dev/running-tests","draft":false,"unlisted":false,"editUrl":"https://github.com/vivostar/vivostar.github.io/tree/master/versioned_docs/version-3.0.0/ambari-dev/running-tests.md","tags":[],"version":"3.0.0","frontMatter":{"title":"Running Tests"},"sidebar":"ambariSidebar","previous":{"title":"Building from Source","permalink":"/docs/3.0.0/ambari-dev/building-from-source"},"next":{"title":"Development Process for New Major Features","permalink":"/docs/3.0.0/ambari-dev/development-process-for-new-major-features"}}');var i=n(74848),r=n(28453);const a={title:"Running Tests"},l="Running Tests in Apache Ambari",o={},c=[{value:"Java Tests",id:"java-tests",level:2},{value:"Running All Java Tests",id:"running-all-java-tests",level:3},{value:"Running Specific Java Tests",id:"running-specific-java-tests",level:3},{value:"Test Parameters Explained",id:"test-parameters-explained",level:3},{value:"Python Tests",id:"python-tests",level:2},{value:"Running All Python Tests",id:"running-all-python-tests",level:3},{value:"Running Specific Python Tests",id:"running-specific-python-tests",level:3},{value:"Python Test Parameters Explained",id:"python-test-parameters-explained",level:3},{value:"Integration Tests",id:"integration-tests",level:2},{value:"Running Integration Tests",id:"running-integration-tests",level:3},{value:"Integration Test Parameters",id:"integration-test-parameters",level:3},{value:"Test Reports",id:"test-reports",level:2},{value:"Java Test Reports",id:"java-test-reports",level:3},{value:"Python Test Reports",id:"python-test-reports",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"running-tests-in-apache-ambari",children:"Running Tests in Apache Ambari"})}),"\n",(0,i.jsxs)(s.p,{children:["This guide explains how to run different types of tests in Apache Ambari. For the official test configuration, you can refer to the ",(0,i.jsx)(s.a,{href:"https://github.com/apache/ambari/blob/trunk/Jenkinsfile",children:"Ambari Jenkinsfile"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"java-tests",children:"Java Tests"}),"\n",(0,i.jsx)(s.h3,{id:"running-all-java-tests",children:"Running All Java Tests"}),"\n",(0,i.jsx)(s.p,{children:"To run all Java tests for the Ambari Server:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mvn -am test -pl ambari-server \\\n    -DskipPythonTests \\\n    -Dmaven.test.failure.ignore \\\n    -Dmaven.artifact.threads=10 \\\n    -Drat.skip \\\n    -DskipAdminWebTests=true\n"})}),"\n",(0,i.jsx)(s.h3,{id:"running-specific-java-tests",children:"Running Specific Java Tests"}),"\n",(0,i.jsx)(s.p,{children:"To run a specific Java test class:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mvn -am test -pl ambari-server \\\n    -DskipPythonTests \\\n    -Dmaven.test.failure.ignore \\\n    -Dmaven.artifact.threads=10 \\\n    -Drat.skip \\\n    -DskipAdminWebTests=true \\\n    -Dtest=AmbariServerTest\n"})}),"\n",(0,i.jsx)(s.p,{children:"To run a specific test method within a test class:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mvn -am test -pl ambari-server \\\n    -DskipPythonTests \\\n    -Dmaven.test.failure.ignore \\\n    -Dmaven.artifact.threads=10 \\\n    -Drat.skip \\\n    -DskipAdminWebTests=true \\\n    -Dtest=AmbariServerTest#testMethodName\n"})}),"\n",(0,i.jsx)(s.h3,{id:"test-parameters-explained",children:"Test Parameters Explained"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-am"}),": Also build dependencies"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-pl ambari-server"}),": Only build the ambari-server module"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-DskipPythonTests"}),": Skip Python tests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-Dmaven.test.failure.ignore"}),": Continue the build even if tests fail"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-Dmaven.artifact.threads=10"}),": Use 10 threads for parallel artifact resolution"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-Drat.skip"}),": Skip Apache RAT (Release Audit Tool) checks"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-DskipAdminWebTests"}),": Skip admin web interface tests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-Dtest"}),": Specify which test class or method to run"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"python-tests",children:"Python Tests"}),"\n",(0,i.jsx)(s.h3,{id:"running-all-python-tests",children:"Running All Python Tests"}),"\n",(0,i.jsx)(s.p,{children:"To run all Python tests:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'mvn test -pl ambari-server \\\n    -DskipJavaTests \\\n    -Dpython.test.mask="*_test.py" \\\n    -Dpython.test.skip.pattern="agent_perf.py"\n'})}),"\n",(0,i.jsx)(s.h3,{id:"running-specific-python-tests",children:"Running Specific Python Tests"}),"\n",(0,i.jsx)(s.p,{children:"To run a specific Python test file:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'mvn test -pl ambari-server \\\n    -DskipJavaTests \\\n    -Dpython.test.mask="test_file_name.py"\n'})}),"\n",(0,i.jsx)(s.h3,{id:"python-test-parameters-explained",children:"Python Test Parameters Explained"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-DskipJavaTests"}),": Skip Java tests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-Dpython.test.mask"}),": Pattern to match test files to run"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-Dpython.test.skip.pattern"}),": Pattern to match test files to skip"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"integration-tests",children:"Integration Tests"}),"\n",(0,i.jsx)(s.h3,{id:"running-integration-tests",children:"Running Integration Tests"}),"\n",(0,i.jsx)(s.p,{children:"To run integration tests:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mvn verify -pl ambari-server \\\n    -P integration-tests \\\n    -DskipPythonTests \\\n    -DskipJavaTests\n"})}),"\n",(0,i.jsx)(s.h3,{id:"integration-test-parameters",children:"Integration Test Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-P integration-tests"}),": Activate the integration-tests profile"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-DskipPythonTests"}),": Skip Python tests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"-DskipJavaTests"}),": Skip Java tests"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"test-reports",children:"Test Reports"}),"\n",(0,i.jsx)(s.p,{children:"Test reports can be found in the following locations after test execution:"}),"\n",(0,i.jsx)(s.h3,{id:"java-test-reports",children:"Java Test Reports"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Unit Tests: ",(0,i.jsx)(s.code,{children:"ambari-server/target/surefire-reports/"})]}),"\n",(0,i.jsxs)(s.li,{children:["Integration Tests: ",(0,i.jsx)(s.code,{children:"ambari-server/target/failsafe-reports/"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"python-test-reports",children:"Python Test Reports"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Test Results: ",(0,i.jsx)(s.code,{children:"ambari-server/target/python-test-results/"})]}),"\n",(0,i.jsxs)(s.li,{children:["Coverage Reports: ",(0,i.jsx)(s.code,{children:"ambari-server/target/python-coverage/"})]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsx)(s.p,{children:"When debugging test failures, check these report directories for detailed test execution logs and stack traces."})})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var t=n(96540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);