"use strict";(self.webpackChunkambari_website=self.webpackChunkambari_website||[]).push([[4607],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var s=i(96540);const a={},r=s.createContext(a);function t(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),s.createElement(r.Provider,{value:n},e.children)}},58931:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"ambari-design/views/view-api","title":"View API","description":"This section describes basic usage of the View REST API. Browse https://github.com/apache/ambari/blob/trunk/ambari-views/docs/index.md for detailed usage information and examples.","source":"@site/versioned_docs/version-2.7.9/ambari-design/views/view-api.md","sourceDirName":"ambari-design/views","slug":"/ambari-design/views/view-api","permalink":"/docs/2.7.9/ambari-design/views/view-api","draft":false,"unlisted":false,"editUrl":"https://github.com/vivostar/vivostar.github.io/tree/master/versioned_docs/version-2.7.9/ambari-design/views/view-api.md","tags":[],"version":"2.7.9","frontMatter":{},"sidebar":"ambariSidebar","previous":{"title":"Framework Services","permalink":"/docs/2.7.9/ambari-design/views/framework-services"},"next":{"title":"View Definition","permalink":"/docs/2.7.9/ambari-design/views/view-definition"}}');var a=i(74848),r=i(28453);const t={},c="View API",o={},l=[{value:"Get List of Deployed Views",id:"get-list-of-deployed-views",level:2},{value:"Creating a View Instance: Files View",id:"creating-a-view-instance-files-view",level:2},{value:"Creating a View Instance: Capacity Scheduler View",id:"creating-a-view-instance-capacity-scheduler-view",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"view-api",children:"View API"})}),"\n",(0,a.jsxs)(n.p,{children:["This section describes basic usage of the View REST API. Browse ",(0,a.jsx)(n.a,{href:"https://github.com/apache/ambari/blob/trunk/ambari-views/docs/index.md",children:"https://github.com/apache/ambari/blob/trunk/ambari-views/docs/index.md"})," for detailed usage information and examples."]}),"\n",(0,a.jsx)(n.h2,{id:"get-list-of-deployed-views",children:"Get List of Deployed Views"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Gets the list of all deployed views"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"GET /api/v1/views\n \n200 - OK\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"Once you have a list of views, you can drill-into a view and see the available versions."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"GET /api/v1/views/FILES\n \n200 - OK\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:"You can go a level deeper and see more information about that specific version for the view, such as the parameters and the archive name, and a list of all instances of the view for that specific view version."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"GET /api/v1/views/FILES/versions/0.1.0\n \n200 - OK\n"})}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-view-instance-files-view",children:"Creating a View Instance: Files View"}),"\n",(0,a.jsxs)(n.p,{children:["The following example shows creating an instance of the ",(0,a.jsx)(n.a,{href:"https://github.com/apache/ambari/tree/trunk/contrib/views/files",children:"Files View"}),', name FILES, version 0.1.0 view called "MyFiles".']}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Create the view instance."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'POST /api/v1/views/FILES/versions/0.1.0/instances/MyFiles\n \n[ {\n"ViewInstanceInfo" : {\n    "properties" : {\n      "dataworker.defaultFs" : "webhdfs://your.namenode.host:50070"\n    }\n  }\n} ]\n \n201 - CREATED\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"When creating your view instance, be sure to provide all required view instance properties, otherwise you will receive a 500 with a message explaining the properties that are required."})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"Restart Ambari Server to pick-up the view instance and UI resources."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ambari-server restart\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:"Confirm the newly created view instance is available."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'GET /api/v1/views/FILES/versions/0.1.0\n \n{\n  "href" : "http://c6401.ambari.apache.org:8080/api/v1/views/FILES/versions/0.1.0/",\n  "ViewVersionInfo" : {\n    "archive" : "/var/lib/ambari-server/resources/views/work/FILES{0.1.0}",\n    "label" : "Files",\n    "masker_class" : null,\n    "parameters" : [\n      {\n        "name" : "dataworker.defaultFs",\n        "description" : "FileSystem URI",\n        "required" : true,\n        "masked" : false\n      },\n      {\n        "name" : "dataworker.username",\n        "description" : "The username (defaults to ViewContext username)",\n        "required" : false,\n        "masked" : false\n      }\n    ],\n    "version" : "0.1.0",\n    "view_name" : "FILES"\n  },\n  "permissions" : [ ],\n  "instances" : [\n    {\n      "href" : "http://c6401.ambari.apache.org:8080/api/v1/views/FILES/versions/0.1.0/instances/MyFiles",\n      "ViewInstanceInfo" : {\n        "instance_name" : "MyFiles",\n        "version" : "0.1.0",\n        "view_name" : "FILES"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Browse to the view instance directly."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"http://c6401.ambari.apache.org:8080/views/FILES/0.1.0/MyFiles/\n \nor\n \nhttp://c6401.ambari.apache.org:8080/#/main/views/FILES/0.1.0/MyFiles\n"})}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-view-instance-capacity-scheduler-view",children:"Creating a View Instance: Capacity Scheduler View"}),"\n",(0,a.jsxs)(n.p,{children:["The following example shows creating an instance of the ",(0,a.jsx)(n.a,{href:"https://github.com/apache/ambari/tree/trunk/contrib/views/capacity-scheduler",children:"Capacity Scheduler View"}),', name CAPACITY-SCHEDULER, version 0.1.0 view called "CS_1", using the label "Capacity Scheduler".']}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Create the view instance."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'POST /api/v1/views/CAPACITY-SCHEDULER/versions/0.1.0/instances/CS_1\n\n[ {\n"ViewInstanceInfo" : {\n    "label" : "Capacity Scheduler",\n    "properties" : {\n      "ambari.server.url" : "http://c6401.ambari.apache.org:8080/api/v1/clusters/MyCluster",\n      "ambari.server.username" : "admin",\n      "ambari.server.password" : "admin"\n    }\n  }\n} ]\n\n201 - CREATED\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["When creating your view instance, be sure to provide all ",(0,a.jsx)(n.strong,{children:"required"})," view instance properties, otherwise you will receive a 500 with a message explaining the properties that are required."]})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Confirm the newly created view instance is available."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'GET /api/v1/views/CAPACITY-SCHEDULER/versions/0.1.0\n\n{\n  "href" : "http://c6401.ambari.apache.org:8080/api/v1/views/CAPACITY-SCHEDULER/versions/0.1.0/",\n  "ViewVersionInfo" : {\n    "archive" : "/var/lib/ambari-server/resources/views/work/CAPACITY-SCHEDULER{0.1.0}",\n    "label" : "Capacity Scheduler",\n    "masker_class" : null,\n    "parameters" : [\n      {\n        "name" : "ambari.server.url",\n        "description" : "Target Ambari Server REST API cluster URL (for example: http://ambari.server:8080/api/v1/clusters/c1)",\n        "required" : true,\n        "masked" : false\n      },\n      {\n        "name" : "ambari.server.username",\n        "description" : "Target Ambari administrator username (for example: admin)",\n        "required" : true,\n        "masked" : false\n      },\n      {\n        "name" : "ambari.server.password",\n        "description" : "Target Ambari administrator password (for example: admin)",\n        "required" : true,\n        "masked" : false\n      }\n    ],\n    "version" : "0.1.0",\n    "view_name" : "CAPACITY-SCHEDULER"\n  },\n  "permissions" : [ ],\n  "instances" : [\n    {\n      "href" : "http://c6401.ambari.apache.org:8080/api/v1/views/CAPACITY-SCHEDULER/versions/0.1.0/instances/CS_1",\n      "ViewInstanceInfo" : {\n        "instance_name" : "CS_1",\n        "version" : "0.1.0",\n        "view_name" : "CAPACITY-SCHEDULER"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Browse to the view instance directly."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"http://c6401.ambari.apache.org:8080/views/CAPACITY-SCHEDULER/0.1.0/CS_1/\n\nor\n\nhttp://c6401.ambari.apache.org:8080/#/main/views/CAPACITY-SCHEDULER/0.1.0/CS_1/\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);