"use strict";(self.webpackChunkambari_website=self.webpackChunkambari_website||[]).push([[3594],{8970:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/step6-3a29e2ee2cec79f8c14fd8f7103293fe.png"},21838:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/step2-4125b5f6ce42d083d93a9958908e0745.png"},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var i=s(96540);const r={},n=i.createContext(r);function a(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(n.Provider,{value:t},e.children)}},57953:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/step5-109f7e5709152372cc5e899498289919.png"},64855:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/step3-81cfef57ad7e7369568ef670b6cc27b7.png"},77125:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"ambari-plugin-contribution/step-by-step","title":"Step-by-step guide on adding a dashboard widget for a host.","description":"Create your own dashboard widget for hosts:","source":"@site/versioned_docs/version-3.0.0/ambari-plugin-contribution/step-by-step.md","sourceDirName":"ambari-plugin-contribution","slug":"/ambari-plugin-contribution/step-by-step","permalink":"/docs/3.0.0/ambari-plugin-contribution/step-by-step","draft":false,"unlisted":false,"editUrl":"https://github.com/vivostar/vivostar.github.io/tree/master/versioned_docs/version-3.0.0/ambari-plugin-contribution/step-by-step.md","tags":[],"version":"3.0.0","frontMatter":{},"sidebar":"ambariSidebar","previous":{"title":"Installation","permalink":"/docs/3.0.0/ambari-plugin-contribution/scom/installation"},"next":{"title":"Ambari Alerts","permalink":"/docs/3.0.0/ambari-alerts"}}');var r=s(74848),n=s(28453);const a={},o="Step-by-step guide on adding a dashboard widget for a host.",d={},c=[{value:"Create your own dashboard widget for hosts:",id:"create-your-own-dashboard-widget-for-hosts",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"step-by-step-guide-on-adding-a-dashboard-widget-for-a-host",children:"Step-by-step guide on adding a dashboard widget for a host."})}),"\n",(0,r.jsx)(t.h2,{id:"create-your-own-dashboard-widget-for-hosts",children:"Create your own dashboard widget for hosts:"}),"\n",(0,r.jsx)(t.p,{children:"Requirements:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Jmxtrans","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Jmxtrans is the application chosen to compile rrd files in order to produce graphing data on ganglia.\n",(0,r.jsx)(t.a,{href:"https://github.com/jmxtrans/jmxtrans",children:"https://github.com/jmxtrans/jmxtrans"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[".rrd files","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"All the Ganglia rrd files are stored in the /var/lib/rrds directory on the host machine where the Ganglia server is installed."}),"\n",(0,r.jsxs)(t.li,{children:["In this example I\u2019ll be using the \u201c",(0,r.jsx)(t.strong,{children:"Nimbus_JVM_Memory_Heap_used.rrd"}),"\u201d file for the data of my custom widget."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 1"}),":"]}),"\n",(0,r.jsxs)(t.p,{children:["First we need to go add the rrd file in the \u201c",(0,r.jsx)(t.strong,{children:"ganglia_properties.json"}),"\u201d file which is located in the ",(0,r.jsx)(t.code,{children:"ambari\\ambari-server\\src\\main\\resources"})," directory of your Ambari source code. This is necessary so that the Ambari-server can call your rrd file from Ganglia via the Ambari API."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:s(93637).A+"",title:"step1",width:"417",height:"136"})}),"\n",(0,r.jsx)(t.p,{children:"Line 108: Create the path for the metrics to be included in the API."}),"\n",(0,r.jsx)(t.p,{children:"Line 109: Specify the rrd file."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 2"}),":"]}),"\n",(0,r.jsxs)(t.p,{children:["Now we are going to add the API path created in step 1 at line 108, to the \u201c",(0,r.jsx)(t.strong,{children:"update_controller.js"}),"\u201d file located in the ",(0,r.jsx)(t.code,{children:"ambari\\ambari-web\\app\\controllers\\global"})," directory, so that our graph data can be updated frequently."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:s(21838).A+"",title:"step2",width:"1052",height:"101"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 3"}),":"]}),"\n",(0,r.jsxs)(t.p,{children:["Create a JavaScript file for the view of the template of our custom widget and save it in the ",(0,r.jsx)(t.code,{children:"ambari\\ambari-web\\app\\views\\main\\host\\metrics"})," directory of your Ambari source code. In this case I saved my file as \u201c",(0,r.jsx)(t.strong,{children:"nimbus.js"}),"\u201d"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:s(64855).A+"",title:"step3",width:"603",height:"648"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 4"}),":"]}),"\n",(0,r.jsxs)(t.p,{children:["Add the JavaScript file you created in the previous step into the \u201c",(0,r.jsx)(t.strong,{children:"views.js"}),"\u201d file located in the ",(0,r.jsx)(t.code,{children:"ambari\\ambari-web\\app"})," directory."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:s(89688).A+"",title:"step4",width:"538",height:"506"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 5"}),":"]}),"\n",(0,r.jsxs)(t.p,{children:["Add the .js file view created in step 3 in the \u201c",(0,r.jsx)(t.strong,{children:"metrics.hbs"}),"\u201d template file located in the ",(0,r.jsx)(t.code,{children:"ambari\\ambari-web\\app\\templates\\main\\host"})," directory."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:s(57953).A+"",title:"step5",width:"531",height:"558"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Step 6"}),":"]}),"\n",(0,r.jsxs)(t.p,{children:["Add the API call to the \u201c",(0,r.jsx)(t.strong,{children:"ajax.js"}),"\u201d file located in the ",(0,r.jsx)(t.code,{children:"ambari\\ambari-web\\app\\utils"})," directory."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:s(8970).A+"",title:"step6",width:"1064",height:"356"})})]})}function l(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},89688:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/step4-73180089f18e1fa8b959c6df67e0ab6e.png"},93637:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/step1-7e6e5ce1f17c4f1a6c8e5e1a56d47cab.png"}}]);