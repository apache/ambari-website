<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.7.6 plugin-docs plugin-id-default docs-doc-id-ambari-plugin-contribution/scom/installation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Installation | Apache Ambari</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/ambari-plugin-contribution/scom/installation"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.7.6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.7.6"><meta data-rh="true" name="docsearch:version" content="2.7.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.7.6"><meta data-rh="true" property="og:title" content="Installation | Apache Ambari"><meta data-rh="true" name="description" content="Prerequisite Software"><meta data-rh="true" property="og:description" content="Prerequisite Software"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/ambari-plugin-contribution/scom/installation"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/ambari-plugin-contribution/scom/installation" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/ambari-plugin-contribution/scom/installation" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.71b625a1.css">
<link rel="preload" href="/assets/js/runtime~main.b0b3e18c.js" as="script">
<link rel="preload" href="/assets/js/main.f3d6882e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ambari-logo.png" alt="Apache Ambari Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/ambari-logo.png" alt="Apache Ambari Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Apache Ambari</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Docs</a><a href="https://cwiki.apache.org/confluence/display/AMBARI/Ambari" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Releases</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/dyn/closer.cgi/ambari/ambari-2.7.6" target="_blank" rel="noopener noreferrer" class="dropdown__link">2.7.6<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/dyn/closer.cgi/ambari/ambari-2.7.5" target="_blank" rel="noopener noreferrer" class="dropdown__link">2.7.5<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Project Information</a><ul class="dropdown__menu"><li><a class="dropdown__link" target="_blank" href="/team">Project Team</a></li><li><a href="https://issues.apache.org/jira/projects/AMBARI/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link">JIRA<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.meetup.com/Apache-Ambari-User-Group/" target="_blank" rel="noopener noreferrer" class="dropdown__link">User Group<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Project License<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/introduction">2.7.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/ambari-plugin-contribution/scom/installation">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/ambari-plugin-contribution/scom/installation">2.7.6</a></li><li><a class="dropdown__link" href="/docs/2.7.5/ambari-plugin-contribution/scom/installation">2.7.5</a></li></ul></div><a href="https://github.com/apache/ambari" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/quick-start/quick-start-guide">Quick Start</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quick-start/quick-start-guide">Quick Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/quick-start/quick-start-for-new-vm-users">Quick Start for New VM Users</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/ambari-design/">Ambari Design</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ambari Design&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ambari-design/alerts">Alerts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/kerberos">Automated Kerberizaton</a><button aria-label="Toggle the collapsible sidebar category &#x27;Automated Kerberizaton&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/blueprints">Blueprints</a><button aria-label="Toggle the collapsible sidebar category &#x27;Blueprints&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ambari-design/enhanced-configs/">Enhanced Configs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ambari-design/service-dashboard/">Enhanced Service Dashboard</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ambari-design/metrics/">Metrics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Metrics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ambari-design/quick-links">Quick Links</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ambari-design/stack-and-services/">Stacks and Services</a><button aria-label="Toggle the collapsible sidebar category &#x27;Stacks and Services&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ambari-design/technology-stack">Technology Stack</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ambari-design/views/">Views</a><button aria-label="Toggle the collapsible sidebar category &#x27;Views&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ambari-dev/">Ambari Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ambari Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/ambari-plugin-contribution/">Ambari Plugin Contributions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ambari Plugin Contributions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/ambari-plugin-contribution/scom/">Ambari SCOM Management Pack</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ambari SCOM Management Pack&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/ambari-plugin-contribution/scom/installation">Installation</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ambari-plugin-contribution/step-by-step">Step-by-step guide on adding a dashboard widget for a host.</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ambari-alerts">Ambari Alerts</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/ambari-plugin-contribution/"><span itemprop="name">Ambari Plugin Contributions</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/ambari-plugin-contribution/scom/"><span itemprop="name">Ambari SCOM Management Pack</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Installation</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.7.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Installation</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisite-software">Prerequisite Software<a class="hash-link" href="#prerequisite-software" title="Direct link to heading">​</a></h2><p>Setting up Ambari SCOM assumes the following prerequisite software:</p><ul><li>Ambari SCOM 1.0<ul><li>Apache Hadoop 1.x cluster (HDFS and MapReduce) 1</li></ul></li><li>Ambari SCOM 2.0<ul><li>Apache Hadoop 2.x cluster (HDFS and YARN/MapReduce) 2</li></ul></li><li>JDK 1.7</li><li>Microsoft SQL Server 2012</li><li>Microsoft JDBC Driver 4.0 for SQL Server 3</li><li>Microsoft System Center Operations Manager (SCOM) 2012 SP1 or later</li><li>System Center Monitoring Agent installed on <strong>Watcher Node</strong> 4</li></ul><p>1 <em>Ambari SCOM</em> 1.0 has been tested with a Hadoop cluster based on <strong>Hortonworks Data Platform 1.3 for Windows</strong> (&quot;<a href="http://hortonworks.com/products/releases/hdp-1-3-for-windows/" target="_blank" rel="noopener noreferrer">HDP 1.3 for Windows</a>&quot;)</p><p>2 <em>Ambari SCOM</em> 2.0 has been tested with a Hadoop cluster based on <strong>Hortonworks Data Platform 2.1 for Windows</strong> (&quot;<a href="http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.1-Win-latest/bk_installing_hdp_for_windows/content/win-getting-ready.html" target="_blank" rel="noopener noreferrer">HDP 2.1 for Windows</a>&quot;)</p><p>3 Obtain the <em>Microsoft JDBC Driver 4.0 for SQL Server</em> JAR file (<code>sqljdbc4.jar</code>) at <a href="http://technet.microsoft.com/en-us/library/ms378749.aspx" target="_blank" rel="noopener noreferrer">http://technet.microsoft.com/en-us/library/ms378749.aspx</a></p><p>4 See Microsoft TechNet topic for <a href="http://technet.microsoft.com/en-us/library/hh212772.aspx" target="_blank" rel="noopener noreferrer">Managing Discovery and Agents</a>. Minimum Agent requirements <em>.NET 4</em> and <em>PowerShell 2.0 + 3.0</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="package-contents">Package Contents<a class="hash-link" href="#package-contents" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">├─ ambari-scom- _**version**_.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── server.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── metrics-sink.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── mp.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── ambari-scom.msi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>File</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>server.zip</td><td>Server Package</td><td>Contains the required software for configuring the Ambari SCOM Server software.</td></tr><tr><td>metrics-sink.zip</td><td>Metrics Sink Package</td><td>Contains the required software for manually configuring SQL Server and the Hadoop Metrics Sink.</td></tr><tr><td>ambari-scom.msi</td><td>MSI Installer</td><td>The Ambari SCOM MSI Installer for configuring the Ambari SCOM Server and Hadoop Metrics Sink</td></tr><tr><td>mp.zip</td><td>Management Pack Package</td><td>Contains the Ambari SCOM Management Pack software.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ambari-scom-server-installation">Ambari SCOM Server Installation<a class="hash-link" href="#ambari-scom-server-installation" title="Direct link to heading">​</a></h2><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>The <strong>Ambari SCOM Management Pack</strong> must connect to an Ambari SCOM Server to retrieve cluster metrics. Therefore, you need to have an Ambari SCOM Server running in your cluster. If you have already installed your Hadoop cluster (including the Ganglia Service) with Ambari (minimum <strong>Ambari 1.5.1 for SCOM 2.0.0</strong>) and have an Ambari Server already running + managing your Hadoop 1.x cluster, you can use that Ambari Server and point the <strong>Management Pack</strong> that host. You can proceed directly to <a href="#id-2installation-mgmtpack">Installing Ambari SCOM Management Pack</a> and skip these steps to install an Ambari SCOM Server. If you do not have an Ambari Server running + managing your cluster, you <strong>must</strong> install an Ambari SCOM Server using one of the methods described below.</p></div></div><p>The following methods are available for installing Ambari SCOM Server:</p><ul><li><strong>Manual Installation</strong> - This installation method requires you to configure the SQL Server database, setup the Ambari SCOM Server and configure the Hadoop Metrics Sink. This provides the most flexible install option based on your environment.</li><li><strong>MSI Installation</strong> - This installation method installs the Ambari SCOM Server and configures the Hadoop Metrics Sink on all hosts in the cluster automatically using an MSI Installer. After launching the MSI, you provide information about your SQL Server database and the cluster for the installer to handle configuration. </li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="manual-installation">Manual Installation<a class="hash-link" href="#manual-installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-sql-server">Configuring SQL Server<a class="hash-link" href="#configuring-sql-server" title="Direct link to heading">​</a></h3><ol><li><p>Configure an existing SQL Server instance for &quot;mixed mode&quot; authentication.</p></li><li><p>Confirm SQL Server is installed with TCP/IP active and enabled. (default port: 1433)</p></li><li><p>Create a user and password. Remember this user and password as this will be the account used by the Hadoop metrics interface for capturing metrics. (default user: sa)</p></li><li><p>Extract the contents of the <code>metrics-sink.zip</code> package to obtain the DDL script.</p></li><li><p>Create the Ambari SCOM database schema by running the <code>Hadoop-Metrics-SQLServer-CREATE.ddl</code> script.</p></li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The Hadoop Metrics DDL script will create a database called &quot;HadoopMetrics&quot;.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-hadoop-metrics-sink">Configuring Hadoop Metrics Sink<a class="hash-link" href="#configuring-hadoop-metrics-sink" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-the-metrics-sink">Preparing the Metrics Sink<a class="hash-link" href="#preparing-the-metrics-sink" title="Direct link to heading">​</a></h4><ol><li><p>Extract the contents of the <code>metrics-sink.zip</code> package to obtain the <code>metrics-sink-&lt;strong&gt;&lt;em&gt;version&lt;/em&gt;&lt;/strong&gt;.jar</code> file.</p></li><li><p>Obtain the <em>Microsoft JDBC Driver 4.0 for SQL Server</em> <code>sqljdbc4.jar</code> file.</p></li><li><p>Copy <code>sqljdbc4.jar</code> and <code>metrics-sink-version.jar</code> to each host in the cluster. For example, copy to <code>C:\Ambari\metrics-sink-version.jar</code> and <code>C:\Ambari\sqljdbc4.jar</code>
on each host.</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setup-hadoop-metrics2-interface">Setup Hadoop Metrics2 Interface<a class="hash-link" href="#setup-hadoop-metrics2-interface" title="Direct link to heading">​</a></h4><ol><li>On each host in the cluster, setup the Hadoop metrics2 interface to use the <code>SQLServerSink</code>.</li></ol><p>Edit the <code>hadoop-metrics2.properties</code> file (located in the <code>&lt;strong&gt;&lt;em&gt;{C:\hadoop\install\dir}&lt;/em&gt;&lt;/strong&gt;\bin</code> folder of each host in the cluster):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*.sink.sql.class=org.apache.hadoop.metrics2.sink.SqlServerSink</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">namenode.sink.sql.databaseUrl=jdbc:sqlserver://[server]:[port];databaseName=HadoopMetrics;user=[user];password=[password]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datanode.sink.sql.databaseUrl=jdbc:sqlserver://[server]:[port];databaseName=HadoopMetrics;user=[user];password=[password]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jobtracker.sink.sql.databaseUrl=jdbc:sqlserver://[server]:[port];databaseName=HadoopMetrics;user=[user];password=[password]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tasktracker.sink.sql.databaseUrl=jdbc:sqlserver://[server]:[port];databaseName=HadoopMetrics;user=[user];password=[password]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maptask.sink.sql.databaseUrl=jdbc:sqlserver://[server]:[port];databaseName=HadoopMetrics;user=[user];password=[password]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reducetask.sink.sql.databaseUrl=jdbc:sqlserver://[server]:[port];databaseName=HadoopMetrics;user=[user];password=[password]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><em>Where:</em></p><ul><li><em>server = the SQL Server hostname</em></li><li><em>port = the SQL Server port (for example, 1433)</em></li><li><em>user = the SQL Server user (for example, sa)</em></li><li><em>password = the SQL Server password (for example, BigData1)</em></li></ul></div></div><ol><li>Update the Java classpath for each Hadoop service to include the <code>metrics-sink-&lt;strong&gt;&lt;em&gt;version&lt;/em&gt;&lt;/strong&gt;.jar</code> and <code>sqljdbc4.jar</code> files.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- Example: Updating the Java classpath for _HDP for Windows_ clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  The `service.xml` files will be located in the `C:\hadoop\install\dir\bin` folder of each host in the cluster. The Java classpath is specified for each service in the `&lt;arguments&gt;` element of the `service.xml` file. For example, to update the Java classpath for the `NameNode` component, edit the `C:\hadoop\bin\namenode.xml` file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ```</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ... -classpath ...;C:\Ambari\metrics-sink-1.5.1.2.0.0.0-673.jar;C:\Ambari\sqljdbc4.jar ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ```</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Restart Hadoop for these changes to take affect.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verify-metrics-collection">Verify Metrics Collection<a class="hash-link" href="#verify-metrics-collection" title="Direct link to heading">​</a></h4><ol><li>Confirm metrics are being captured in the SQL Server database by querying the <code>MetricRecord</code> table:</li></ol><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> HadoopMetrics</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dbo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MetricRecord</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>In the above SQL statement, <code>HadoopMetrics</code> is the database name.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-and-configuring-ambari-scom-server">Installing and Configuring Ambari SCOM Server<a class="hash-link" href="#installing-and-configuring-ambari-scom-server" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-server">Running the Server<a class="hash-link" href="#running-the-server" title="Direct link to heading">​</a></h4><ol><li><p>Designate a machine in the cluster to run the Ambari SCOM Server.</p></li><li><p>Extract the contents of the <code>server.zip</code> package to obtain the Ambari SCOM Server packages.</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">├── ambari-scom-server- **_version_**-conf.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── ambari-scom-server- **_version_**-lib.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── ambari-scom-server- **_version_**.jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li><p>Extract the contents of the <code>ambari-scom-server-version-lib.zip</code> package to obtain the Ambari SCOM dependencies.</p></li><li><p>Extract the contents of the <code>ambari-scom-server-version-conf.zip</code> package to obtain the Ambari SCOM configuration files.</p></li><li><p>From the configuration files, edit the <code>ambari.properties</code> file:</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">scom.sink.db.driver=com.microsoft.sqlserver.jdbc.SQLServerDriver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scom.sink.db.url=jdbc:sqlserver://[server]:[port];databaseName=HadoopMetrics;user=[user];password=[password]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><em>Where:</em></p><ul><li><em>server = the SQL Server hostname</em></li><li><em>port = the SQL Server port (for example, 1433)</em></li><li><em>user = the SQL Server user (for example, sa)</em></li><li><em>password = the SQL Server password (for example, BigData1)</em></li></ul></div></div><ol start="6"><li>Run the <code>org.apache.ambari.scom.AmbariServer</code> class from the Java command line to start the Ambari SCOM Server. </li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Be sure to include the following in the classpath:</p><ul><li><code>ambari-scom-server-version.jar</code> file</li><li>configuration folder containing the Ambari SCOM configuration files</li><li>lib folder containing the Ambari SCOM dependencies</li><li>folder containing the <code>clusterproperties.txt</code> file from the Hadoop install. For example, <code>c:\hadoop\install\dir</code></li><li><code>sqljdbc4.jar</code> SQLServer JDBC Driver file
::
</li></ul><p>For example:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -server -XX:NewRatio</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> -XX:+UseConcMarkSweepGC -XX:-UseGCOverheadLimit -XX:CMSInitiatingOccupancyFraction</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> -Xms512m -Xmx2048m -cp </span><span class="token string" style="color:#e3116c">&quot;c:</span><span class="token string entity" style="color:#36acaa">\a</span><span class="token string" style="color:#e3116c">mbari-scom\server</span><span class="token string entity" style="color:#36acaa">\c</span><span class="token string" style="color:#e3116c">onf;c:</span><span class="token string entity" style="color:#36acaa">\a</span><span class="token string" style="color:#e3116c">mbari-scom\server\lib\*;c:\jdbc\sqljdbc4.jar;c:\hadoop\install\dir;c:</span><span class="token string entity" style="color:#36acaa">\a</span><span class="token string" style="color:#e3116c">mbari-scom\server</span><span class="token string entity" style="color:#36acaa">\a</span><span class="token string" style="color:#e3116c">mbari-scom-server-1.5.1.2.0.0.0-673.jar&quot;</span><span class="token plain"> org.apache.ambari.scom.AmbariServer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>In the above command, be sure to replace the Ambari SCOM version in the <code>ambari-scom-server-version.jar</code> and replace <code>c:\hadoop\install\dir</code> with the folder containing the <code>clusterproperties.txt</code> file.
:::</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="verify-the-server-api">Verify the Server API<a class="hash-link" href="#verify-the-server-api" title="Direct link to heading">​</a></h4><ol><li>From a browser access the API</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://[ambari-scom-server]:8080/api/v1/clusters</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Verify that metrics are being reported.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://[ambari-scom-server]:8080/api/v1/clusters/ambari/services/HDFS/components/NAMENODE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="msi-installation">MSI Installation<a class="hash-link" href="#msi-installation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-sql-server-1">Configuring SQL Server<a class="hash-link" href="#configuring-sql-server-1" title="Direct link to heading">​</a></h3><ol><li><p>Configure an existing SQL Server instance for &quot;mixed mode&quot; authentication.</p></li><li><p>Confirm SQL Server is installed with TCP/IP active and enabled. (default port: 1433)</p></li><li><p>Create a user and password. (default user: sa)</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-msi-installer">Running the MSI Installer<a class="hash-link" href="#running-the-msi-installer" title="Direct link to heading">​</a></h3><ol><li><p>Designate a machine in the cluster to run the Ambari SCOM Server.</p></li><li><p>Extract the contents of the <code>server.zip</code> package to obtain the Ambari SCOM Server packages.</p></li><li><p>Run the <code>ambari-scom.msi</code> installer. The &quot;Ambari SCOM Setup&quot; dialog appears:</p><p> <img loading="lazy" src="/assets/images/ambari-scom-msi2-25a46ff2687e33c9c9b91d2e0a6cbe62.png" width="394" height="346" class="img_ev3q"></p></li><li><p>Provide the following information: </p></li></ol><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td>Ambari SCOM package directory</td><td>The directory where the installer will place the Ambari SCOM Server packages. For example: C:\Ambari</td></tr><tr><td>SQL Server hostname</td><td>The hostname of the SQL Server instance for Ambari SCOM Server to use to store Hadoop metrics.</td></tr><tr><td>SQL Server port</td><td>The port of the SQL Server instance.</td></tr><tr><td>SQL Server login</td><td>The login username.</td></tr><tr><td>SQL Server password</td><td>The login password</td></tr><tr><td>Path to SQL Server JDBC Driver (sqljdbc4.jar)</td><td>The path to the JDBC Driver JAR file.</td></tr><tr><td>Path to the cluster layout file (clusterproperties.txt)</td><td>The path to the cluster layout properties file.</td></tr></tbody></table><ol start="5"><li>You can optionally select to Start Services</li><li>Click Install</li><li>After completion, links are created on the desktop to &quot;Start Ambari SCOM Server&quot;, &quot;Browse Ambari API&quot; and &quot;Browse Ambari API Metrics&quot;. After starting the Ambari SCOM Server, browse the API and Metrics to confirm the server is working properly.</li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The MSI installer installation log can be found at <code>C:\AmbariInstallFiles\AmbariSetupTools\ambari.winpkg.install.log</code></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-ambari-scom-management-pack">Installing Ambari SCOM Management Pack<a class="hash-link" href="#installing-ambari-scom-management-pack" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Before installing the Management pack, be sure to install the Ambari SCOM Server using the Ambari SCOM Server Installation instructions.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="import-the-management-pack">Import the Management Pack<a class="hash-link" href="#import-the-management-pack" title="Direct link to heading">​</a></h4><p>Perform the following to import the Ambari SCOM Management Pack into System Center Operations Manager.</p><ol><li><p>Extract the contents of the <code>mp.zip</code> package to obtain the Ambari SCOM management pack (<code>.mpb</code>) files.</p></li><li><p>Ensure Windows Server 2012 running SCOM with SQL Server (full text search).</p></li><li><p>Open System Center Operations Manager.</p></li><li><p>Go to Administration -&gt; Management Packs.</p></li><li><p>From the Tasks panel, select Import Management Packs...</p></li><li><p>In the Import Management Packs dialog, select Add -&gt; Add from disk...</p></li><li><p>You are prompted to search the Online Catalog. Click &quot;No&quot;.</p></li><li><p>Browse for the Ambari SCOM management pack files.</p></li><li><p>Select the following files:</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ambari.SCOM.Monitoring.mpb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ambari.SCOM.Management.mpb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ambari.SCOM.Presentation.mpb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="10"><li><p>Click &quot;Open&quot;</p></li><li><p>Review the Import list and click &quot;Install&quot;.</p></li><li><p>The Ambari SCOM Management Pack installation will start.</p></li></ol><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The Ambari SCOM package also includes <code>AmbariSCOMManagementPack.msi</code> which is an alternative packaging of the <code>mp.zip</code>. This MSI is being made in <strong>beta</strong> form in this release.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-run-as-account">Create Run As Account<a class="hash-link" href="#create-run-as-account" title="Direct link to heading">​</a></h4><p>Perform the following to configure a account to use when the Ambari SCOM Management Pack talks to the Ambari SCOM Server.</p><ol><li><p>After Importing the Management Pack is complete, go to Administration -&gt; Run As Configuration -&gt; Accounts.</p></li><li><p>In the Tasks panel, select &quot;Create Run as Account...&quot;</p></li><li><p>You are presented with the Create Run As Account Wizard.</p></li><li><p>Go thru the wizard, select Run As account type &quot;Basic Authentication&quot;.</p></li><li><p>Give the account a Display name and click &quot;Next&quot;.</p></li><li><p>Enter the account name and password for the Ambari SCOM Server. This account will be used to connect to the Ambari SCOM Server to access the Ambari REST API. Default is account name is &quot;admin&quot; and password is &quot;admin&quot;.</p></li><li><p>Click &quot;Next&quot;</p></li><li><p>Select the &quot;Less secure&quot; distribution security option.</p></li><li><p>Click &quot;Next&quot; and complete the wizard.</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-management-pack">Configure the Management Pack<a class="hash-link" href="#configure-the-management-pack" title="Direct link to heading">​</a></h4><p>Perform the following to configure the Ambari SCOM Management Pack to talk to the Ambari SCOM Server.</p><ol><li><p>Go to Authoring -&gt; Management Pack Templates -&gt; Ambari SCOM</p></li><li><p>In the Tasks panel, select &quot;Add Monitoring Wizard&quot;.</p></li><li><p>Select monitoring type &quot;Ambari SCOM&quot;</p></li><li><p>Provide a name and select the destination management pack.</p></li><li><p>Provide the Ambari URI with is the address of the Ambari SCOM Server in the format:</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://[ambari-scom-server]:8080/api/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>In the above Ambari URI, <code>ambari-scom-server</code> is the Ambari SCOM Server.</p></div></div><ol start="6"><li><p>Select the Run As Account that you created in Create Run As Account.</p></li><li><p>Select &quot;Watcher Node&quot;. If node is not listed, click &quot;Add&quot; and browse for the node. Click &quot;Next&quot;.</p></li><li><p>Complete the Add Monitoring Wizard and proceed to the Monitoring Scenariosfor information on using the management pack.</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="best-practice-create-management-pack-for-customizations">Best Practice: Create Management Pack for Customizations<a class="hash-link" href="#best-practice-create-management-pack-for-customizations" title="Direct link to heading">​</a></h4><p>By default, Operations Manager saves all customizations such as overrides to the <strong>Default Management Pack</strong>. As a best practice, you should instead create a separate management pack for each sealed management pack you want to customize.</p><p>When you create a management pack for the purpose of storing customized settings for a sealed management pack, it is helpful to base the name of the new management pack on the name of the management pack that it is customizing, such as <strong>Ambari SCOM Customizations</strong>.</p><p>Creating a new management pack for storing customizations of each sealed management pack makes it easier to export the customizations from a test environment to a production environment. It also makes it easier to delete a management pack, because you must delete any dependencies before you can delete a management pack. If customizations for all management packs are saved in the <strong>Default Management Pack</strong> and you need to delete a single management pack, you must first delete the <strong>Default Management Pack</strong>, which also deletes customizations to other management packs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-scenarios">Monitoring Scenarios<a class="hash-link" href="#monitoring-scenarios" title="Direct link to heading">​</a></h2><p><a href="https://cwiki.apache.org/confluence/display/AMBARI/3.+Monitoring+Scenarios" target="_blank" rel="noopener noreferrer">Monitoring Scenarios</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/vivostar/vivostar.github.io/tree/master/versioned_docs/version-2.7.6/ambari-plugin-contribution/scom/installation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/ambari-plugin-contribution/scom/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ambari SCOM Management Pack</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/ambari-plugin-contribution/step-by-step"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Step-by-step guide on adding a dashboard widget for a host.</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisite-software" class="table-of-contents__link toc-highlight">Prerequisite Software</a></li><li><a href="#package-contents" class="table-of-contents__link toc-highlight">Package Contents</a></li><li><a href="#ambari-scom-server-installation" class="table-of-contents__link toc-highlight">Ambari SCOM Server Installation</a></li><li><a href="#manual-installation" class="table-of-contents__link toc-highlight">Manual Installation</a><ul><li><a href="#configuring-sql-server" class="table-of-contents__link toc-highlight">Configuring SQL Server</a></li><li><a href="#configuring-hadoop-metrics-sink" class="table-of-contents__link toc-highlight">Configuring Hadoop Metrics Sink</a></li><li><a href="#installing-and-configuring-ambari-scom-server" class="table-of-contents__link toc-highlight">Installing and Configuring Ambari SCOM Server</a></li></ul></li><li><a href="#msi-installation" class="table-of-contents__link toc-highlight">MSI Installation</a><ul><li><a href="#configuring-sql-server-1" class="table-of-contents__link toc-highlight">Configuring SQL Server</a></li><li><a href="#running-the-msi-installer" class="table-of-contents__link toc-highlight">Running the MSI Installer</a></li><li><a href="#installing-ambari-scom-management-pack" class="table-of-contents__link toc-highlight">Installing Ambari SCOM Management Pack</a></li></ul></li><li><a href="#monitoring-scenarios" class="table-of-contents__link toc-highlight">Monitoring Scenarios</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Apache Ambari. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b0b3e18c.js"></script>
<script src="/assets/js/main.f3d6882e.js"></script>
</body>
</html>