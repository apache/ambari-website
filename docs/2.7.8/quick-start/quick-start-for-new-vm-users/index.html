<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2.7.8 docs-doc-page docs-doc-id-quick-start/quick-start-for-new-vm-users" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Quick Start for New VM Users | Apache Ambari</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/2.7.8/quick-start/quick-start-for-new-vm-users"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.7.8"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.7.8"><meta data-rh="true" name="docsearch:version" content="2.7.8"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.7.8"><meta data-rh="true" property="og:title" content="Quick Start for New VM Users | Apache Ambari"><meta data-rh="true" name="description" content="This Quick Start guide is for readers who are new to the use of virtual machines, Apache Ambari, and/or the Apache Hadoop component stack, who would like to install and use a small local Hadoop cluster. The instructions are for a local host machine running OS X."><meta data-rh="true" property="og:description" content="This Quick Start guide is for readers who are new to the use of virtual machines, Apache Ambari, and/or the Apache Hadoop component stack, who would like to install and use a small local Hadoop cluster. The instructions are for a local host machine running OS X."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/2.7.8/quick-start/quick-start-for-new-vm-users"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/2.7.8/quick-start/quick-start-for-new-vm-users" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/2.7.8/quick-start/quick-start-for-new-vm-users" hreflang="x-default"><meta http-equiv="Content-Security-Policy" content="default-src &#39;self&#39;; img-src &#39;self&#39; data: https://*.githubusercontent.com https://github.com; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;;"><link rel="stylesheet" href="/assets/css/styles.b0dee94f.css">
<script src="/assets/js/runtime~main.84982208.js" defer="defer"></script>
<script src="/assets/js/main.275c6937.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/ambari-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ambari-logo.png" alt="Apache Ambari Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ambari-logo.png" alt="Apache Ambari Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Apache Ambari</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/2.7.8/introduction">Docs</a><a href="https://cwiki.apache.org/confluence/display/AMBARI/Ambari" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Releases</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/dyn/closer.cgi/ambari/ambari-3.0.0" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.0.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/dyn/closer.cgi/ambari/ambari-2.7.9" target="_blank" rel="noopener noreferrer" class="dropdown__link">2.7.9<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/dyn/closer.cgi/ambari/ambari-2.7.8" target="_blank" rel="noopener noreferrer" class="dropdown__link">2.7.8<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Project Information</a><ul class="dropdown__menu"><li><a href="/team" class="dropdown__link" target="_blank">Project Team</a></li><li><a href="https://issues.apache.org/jira/projects/AMBARI/issues" target="_blank" rel="noopener noreferrer" class="dropdown__link">JIRA<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.meetup.com/Apache-Ambari-User-Group/" target="_blank" rel="noopener noreferrer" class="dropdown__link">User Group<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Project License<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/2.7.8/quick-start/quick-start-for-new-vm-users">2.7.8</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/introduction">Next</a></li><li><a class="dropdown__link" href="/docs/3.0.0/introduction">3.0.0</a></li><li><a class="dropdown__link" href="/docs/2.7.9/quick-start/quick-start-for-new-vm-users">2.7.9</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.7.8/quick-start/quick-start-for-new-vm-users">2.7.8</a></li></ul></div><a href="https://github.com/apache/ambari" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.7.8/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/2.7.8/quick-start/quick-start-guide">Quick Start</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.8/quick-start/quick-start-guide">Quick Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/2.7.8/quick-start/quick-start-for-new-vm-users">Quick Start for New VM Users</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/2.7.8/ambari-design/">Ambari Design</a><button aria-label="Collapse sidebar category &#x27;Ambari Design&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.8/ambari-design/alerts">Alerts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.7.8/kerberos">Automated Kerberizaton</a><button aria-label="Expand sidebar category &#x27;Automated Kerberizaton&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.7.8/blueprints">Blueprints</a><button aria-label="Expand sidebar category &#x27;Blueprints&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.8/ambari-design/enhanced-configs/">Enhanced Configs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.8/ambari-design/service-dashboard/">Enhanced Service Dashboard</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.7.8/ambari-design/metrics/">Metrics</a><button aria-label="Expand sidebar category &#x27;Metrics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.8/ambari-design/quick-links">Quick Links</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.7.8/ambari-design/stack-and-services/">Stacks and Services</a><button aria-label="Expand sidebar category &#x27;Stacks and Services&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/2.7.8/ambari-design/technology-stack">Technology Stack</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/2.7.8/ambari-design/views/">Views</a><button aria-label="Expand sidebar category &#x27;Views&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/2.7.8/ambari-dev/">Ambari Development</a><button aria-label="Expand sidebar category &#x27;Ambari Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/2.7.8/ambari-plugin-contribution/">Ambari Plugin Contributions</a><button aria-label="Expand sidebar category &#x27;Ambari Plugin Contributions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/2.7.8/ambari-alerts">Ambari Alerts</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Apache Ambari<!-- --> <b>2.7.8</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/3.0.0/introduction">latest version</a></b> (<!-- -->3.0.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Quick Start</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Quick Start for New VM Users</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.7.8</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Quick Start for New VM Users</h1></header>
<p>This Quick Start guide is for readers who are new to the use of virtual machines, Apache Ambari, and/or the Apache Hadoop component stack, who would like to install and use a small local Hadoop cluster. The instructions are for a local host machine running OS X.</p>
<p>The following instructions cover four main steps for installing Ambari and HDP using VirtualBox and Vagrant:</p>
<ol>
<li>
<p>Install VirtualBox and Vagrant.</p>
</li>
<li>
<p>Install and start one or more Linux virtual machines. Each machine represents a node in a cluster.</p>
</li>
<li>
<p>On one of the virtual machines, download, install, and deploy the version of Ambari you wish to use.</p>
</li>
<li>
<p>Using Ambari, deploy the version of HDP you wish to use.</p>
</li>
</ol>
<p>When you complete the example in this Quick Start, you should have a three-node cluster of virtual machines running Ambari 2.4.1.0 and HDP 2.5.0 (unless you specify different repository versions).</p>
<p>Once VirtualBox and Vagrant are installed, steps 2 through 4 can be done multiple times to change versions, create a larger cluster, and so on. There is no need to repeat step 1 unless you want to upgrade VirtualBox and/or Vagrant later.</p>
<p>Note: these steps were most recently tested on MacOS 10.11.6, El Capitan.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terminology">Terminology<a href="#terminology" class="hash-link" aria-label="Direct link to Terminology" title="Direct link to Terminology">​</a></h2>
<p>A <em>virtual machine</em>, or <em>VM</em>, is a software program that exhibits the behavior of a separate computer and is capable of running applications and programs within its own environment.</p>
<p>A virtual machine is often called a <em>guest</em>, because it runs within another computing environment--usually known as the <em>host</em>. For example, if you install three Linux VMs on a Mac, the Mac is the host machine; the three Linux VMs are guests.</p>
<p>Multiple virtual machines can exist within a single host at one time. In the following examples, one or more virtual machines run on a <em>host</em> machine running OS X. OS X is the primary operating system. The virtual machines (guests) are installed under OS X. The virtual machines run Linux in separate environments on OS X. Thus, your Mac is the &quot;host&quot; machine, and the virtual machines that run Ambari and Hadoop are called &quot;guest&quot; machines.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>You will need the following resources for this Quick Start:</p>
<ul>
<li>
<p>A solid internet connection, preferably with at least 5 MB available download bandwidth.</p>
</li>
<li>
<p>If you are installing the VMs on a Mac, at least 16 GB of memory (assuming 3 GB per VM)</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-virtualbox-and-vagrant">Install VirtualBox and Vagrant<a href="#install-virtualbox-and-vagrant" class="hash-link" aria-label="Direct link to Install VirtualBox and Vagrant" title="Direct link to Install VirtualBox and Vagrant">​</a></h2>
<p>VirtualBox is a software virtualization package that installs on an operating system as an application. It allows you to run multiple virtual machines at the same time. In this Quick Start you will use VirtualBox to run Linux nodes within VirtualBox on OS X:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/virtual_box_env-f8b492b79cc8c51229de9c358b87ce67.png" title="Apache Ambari &amp;gt; Quick Start for New VM Users &amp;gt; Screen Shot 2016-09-24 at 9.18.09 AM.png" width="598" height="329" class="img_ev3q"></p>
<p>Vagrant is a tool that makes it easier to work with virtual machines. It helps automate the work of setting up, running, and removingvirtual machine environments. Using Vagrant, you can install and run a preconfigured cluster environment with Ambari and the HDP stack.</p>
<ol>
<li>
<p>Download and install VirtualBox from <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener noreferrer">https://www.virtualbox.org/wiki/Downloads</a>. This Quick Start has been tested on version 5.1.6.</p>
</li>
<li>
<p>Download and install Vagrant from <a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/downloads.html</a> <a href="http://downloads.vagrantup.com" target="_blank" rel="noopener noreferrer">.<br></a></p>
</li>
<li>
<p>Clone the <code>ambari-vagrant</code> GitHub repository into a convenient folder on your Mac. Navigate to the folder, and enter the following command from the terminal:</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/u39kun/ambari-vagrant.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The repository contains scripts for setting up Ambari virtual machines on several Linux distributions.</p>
<ol start="4">
<li>Add virtual machine hostnames and addresses to the <code>/etc/hosts</code> file on your computer. The following command copies a set of host names and addresses from <code>ambari-vagrant/append-to-etc-hosts.txt</code> to the end of the <code>/etc/hosts</code> files:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;cat ambari-vagrant/append-to-etc-hosts.txt &gt;&gt; /etc/hosts&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="5">
<li>Use the <code>vagrant</code> command to create a private key to use with Ambari:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vagrant</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>vagrant</code> command displays Vagrant command information, and then it creates a private key in the file <code>~/.vagrant.d/insecure_private_key</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="start-linux-virtual-machines">Start Linux Virtual Machines<a href="#start-linux-virtual-machines" class="hash-link" aria-label="Direct link to Start Linux Virtual Machines" title="Direct link to Start Linux Virtual Machines">​</a></h2>
<p>The <code>ambari-vagrant</code> directory (cloned from GitHub) contains several subdirectories, each for a specific Linux distribution. Each subdirectory has scripts and configuration files for running Ambari and HDP on that version of Linux.</p>
<p>To start one or more virtual machines:</p>
<ol>
<li>Change your current directory to <code>ambari-vagrant</code>:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ambari-vagrant</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you run an <code>ls</code> command on the <code>ambari-vagrant</code> directory, you will see subdirectories for several different operating systems and operating system versions.</p>
<ol start="2">
<li><code>cd</code> into the OS subdirectory for the OS you wish to use. CentOS is recommended, because it is quicker to launch than other operating systems.</li>
</ol>
<p>The remainder of this example uses CentOS 7.0. (To install and use a different version or distribution of Linux, specify the other directory name in place of <code>centos7.0</code>.)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> centos7.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Important</strong>: All VM <code>vagrant</code> commands operate within your current directory. Be sure to run them from the local (Mac) subdirectory associated with the VM operating system that you have chosen to use. If you attempt to run a <code>vagrant</code> command from another directory, it will not find the VM.</p>
<p>Copy the private key into the directory associated with the chosen operating system.</p>
<p>For this example, which uses <code>centos7.0</code>, issue the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> ~/.vagrant.d/insecure_private_key </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>(Optional) If you have at least 16 GB of memory on your Mac, consider increasing the amount of memory allocated to the VMs.</li>
</ol>
<p>Edit the following line in <code>Vagrantfile</code> , increasing allocated memory from 3072 to 4096 or more; for example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vb.customize </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;modifyvm&quot;</span><span class="token plain">, :id, </span><span class="token string" style="color:#e3116c">&quot;--memory&quot;</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">4096</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># RAM allocated to each VM</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>
<p>Every virtual machine will have a directory called <code>/vagrant</code> inside the VM. This corresponds to the <code>ambari-vagrant/&lt;os&gt;&lt;/os&gt;</code> directory on your local computer, making it easy to transfer files back and forth between your host Mac and the virtual machine. If you have any files to access from within the VM, you can place them in this shared directory.</p>
</li>
<li>
<p>Start one or more VMs, using the <code>./up.sh</code> command. Each VM will run one HDP node.Recommendation: if you have at least 16GB of RAM on your Mac and wish to run a small cluster, start with three nodes.</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./up.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For example, the following command starts 3 VMs:<br> <code>./up.sh 3</code></p>
<p>On an early 2013 MacBook Pro, 2.7 GHz core i7 and 16 GB RAM, this step takes five minutes. For CentOS 7.0, the hostnames are <code>c7001</code>, <code>c7002</code>, and <code>c7003</code>.</p>
<p>Additional notes:</p>
<ul>
<li>
<p>If you ran the VMs before and used <code>vagrant destroy</code> to remove the VM&#x27;s, this is the step at which you would recreate and start the VMs.</p>
</li>
<li>
<p>The default <code>Vagrantfile</code> (in each OS subdirectory) can create up to 10 virtual machines.</p>
</li>
<li>
<p>The <code>up.sh 3</code> command is equivalent to <code>vagrant up c700{1..3}</code>.</p>
</li>
<li>
<p>The fully-qualified domain name (FQDN) for each VM has the format <code>&lt;os-code&gt;[01-10].ambari.apache.org&lt;/os-code&gt;</code>, where <code>&lt;os-code&gt;&lt;/os-code&gt;</code> is <code>c59</code> (CentOS 5.9), <code>c64</code> (CentOS 6.4), etc. For example, <code>c5901.ambari.apache.org</code> will be the FQDN for node 01 running CentOS 5.9.</p>
</li>
<li>
<p>The IP address for each VM has the format <code>192.168.&lt;os-subnet&gt;.1[01-10]&lt;/os-subnet&gt;</code>, where <code>&lt;os-subnet&gt;&lt;/os-subnet&gt;</code> is <code>64</code> for CentOS 6.4, <code>70</code> for CentOS 7.0, and so on. For example, <code>192.168.70.101</code> will be the IP address for CentOS 7.0 node <code>c7001</code>.</p>
</li>
</ul>
<ol start="6">
<li>Check the status of your VM(s), and review any errors. The following example shows the results of <code>./upsh 3</code> for three VMs running with CentOS 7.0:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LMBP:centos7.0 lkg$ vagrant status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Current machine states:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7001                     running (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7002                     running (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7003                     running (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7004                     not created (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7005                     not created (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7006                     not created (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7007                     not created (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7008                     not created (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7009                     not created (virtualbox)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7010                     not created (virtualbox)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the preceding list, three virtual machines are installed and running.</p>
<ol start="7">
<li>At this point, you can snapshot the VMs to have a fresh set of running machines to reuse if desired. This is especially helpful when installing Apache Ambari and the HDP stack for the first time; it allows you to back out to fresh VMs and reinstall Ambari and HDP if you encounter errors. For more information about snapshots, see the <code>vagrant snapshot</code> command in &quot;Basic Vagrant Commands,&quot; later in this Quick Start.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-virtual-machines">Access Virtual Machines<a href="#access-virtual-machines" class="hash-link" aria-label="Direct link to Access Virtual Machines" title="Direct link to Access Virtual Machines">​</a></h2>
<p>Use the following steps when you want to access a running virtual machine:</p>
<ol>
<li>To log on to a virtual machine, use the <code>vagrant ssh</code> command on your host machine, and specify the hostname; for example:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LMBP:centos7.0 lkg$ vagrant ssh c7001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last login: Tue Jan 12 11:20:28 2016</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[vagrant@c7001 ~]$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>From this point onward, this terminal window is connected to the virtual machine until yo u exit the virtual machine. All commands go to the VM, not to your Mac.</p>
<p><em><strong>Recommendation</strong></em>: Open a second terminal window for your Mac. This is useful when accessing the Ambari Web UI. To distinguish between the two, terminal windows typically list the computer name or VM hostname on each command-line prompt and at the top of the terminal window.</p>
<ol start="2">
<li>When you first access the VM you will be logged in as user <code>vagrant</code>. Switch to the <code>root</code> user; be sure to include the space between &quot;su&quot; and &quot;-&quot;:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[vagrant@c7001 ~]$ sudo su -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last login: Sun Sep 25 01:34:28 AEST 2016 on pts/0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@c7001:~#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If at any time you wish to return the terminal window to your host machine:</p>
<ol>
<li></li>
<li>
<p>Use the <code>logout</code> command to log out of root</p>
</li>
<li>
<p>Use the <code>exit</code> command to return to your host machine (Mac)</p>
</li>
</ol>
<p>At this point, the VMs are still running in the background. You can re-issue the <code>vagrant ssh</code> command later, to reconnect, or you can stop the virtual machines. For more information, see the <code>vagrant snapshot</code> command in &quot;Basic Vagrant Commands,&quot; later in this Quick Start.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-ambari-on-the-virtual-machines">Install Ambari on the Virtual Machines<a href="#install-ambari-on-the-virtual-machines" class="hash-link" aria-label="Direct link to Install Ambari on the Virtual Machines" title="Direct link to Install Ambari on the Virtual Machines">​</a></h2>
<p><strong>Prerequisites</strong>: Before installing Ambari, the following software packages must be installed on your VM:</p>
<ul>
<li>rpm</li>
<li>curl</li>
<li>wget</li>
<li>pdsh</li>
</ul>
<p>On CentOS: to check if a package is installed, run <code>yum info &lt;package-name&gt;&lt;/package-name&gt;</code>. To install a package, run <code>yum install &lt;package-name&gt;&lt;/package-name&gt;</code>.</p>
<p>To install Ambari, you can build it yourself from source (see <a href="/docs/2.7.8/ambari-dev/">Ambari Development</a>), or you can use published binaries.</p>
<p>As this is a Quick Start Guide to get you going quickly, ready-made publicly-available binaries are referenced. Note that these binaries were built and publicly made available via Hortonworks, a commercial vendor for Hadoop. This is for your convenience. Note that using the binaries shown here would make HDP, Hortonworks&#x27; distribution, available to be installed via Apache Ambari. The instructions here should still work (only the repo URLs need to be changed) if you have Ambari binaries from any other vendor/organization/individuals (the instructions here can be updated if anyone wanted to expand this to include such ready-made, publicly accessible binaries from any source - such contributions are welcome). This would also work if you had built the binaries yourself.</p>
<p>From the terminal window o n the VM where you want to run the main Ambari service, download the Ambari repository. The following comman ds download Ambari version 2.5.1.0 and install <code>ambari-server</code>. To install a different version of Ambari, specify the appropriate repo URL. Choose the appropriate commands for the operating system on your VMs:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># CentOS 6 (for CentOS 7, replace centos6 with centos7 in the repo URL)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># to test public release 2.5.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-O</span><span class="token plain"> /etc/yum.repos.d/ambari.repo http://public-repo-1.hortonworks.com/ambari/centos6/2.x/updates/2.5.1.0/ambari.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ambari-server </span><span class="token parameter variable" style="color:#36acaa">-y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Ubuntu 14 (for Ubuntu 16, replace ubuntu14 with ubuntu16 in the repo URL)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># to test public release 2.5.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-O</span><span class="token plain"> /etc/apt/sources.list.d/ambari.list http://public-repo-1.hortonworks.com/ambari/ubuntu14/2.x/updates/2.5.1.0/ambari.list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apt-key adv --recv-keys </span><span class="token parameter variable" style="color:#36acaa">--keyserver</span><span class="token plain"> keyserver.ubuntu.com B9733A7A07513CAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ambari-server </span><span class="token parameter variable" style="color:#36acaa">-y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># SUSE 11 (for SUSE 12, replace suse11 with suse12 in the repo URL)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># to test public release 2.5.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-O</span><span class="token plain"> /etc/zypp/repos.d/ambari.repo http://public-repo-1.hortonworks.com/ambari/suse11/2.x/updates/2.5.1.0/ambari.repo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">zypper</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ambari-server </span><span class="token parameter variable" style="color:#36acaa">-y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>On an early 2013 MacBook Pro, 2.7 GHz core i7 and 16 GB RAM, this step takes seven minutes. Timing also depends on internet download speeds.</p>
<p>To install Ambari with default settings, set up and start <code>ambari-server</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ambari-server setup </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ambari-server start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To check Ambari Server status, issue the following command:<br> <code>ambari-server status</code></p>
<p>After Ambari Server has started, launch a browser on your host machine (Mac). Access the Ambari Web UI at <code> http://&lt;hostname&gt;.&lt;a href=&quot;http://ambari.apache.org&quot;&gt;ambari.apache.org&lt;/a&gt;:8080&lt;/hostname&gt;</code>. The <code>&lt;hostname&gt;&lt;/hostname&gt;</code> part of the URL specifies the VM where you installed Ambari;for example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://c7001.ambari.apache.org:8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Note</strong>: The Ambari Server can take some time to launch and be ready to accept connections. Keep trying the URL until you see the login page.</p>
<p>At this point, you can snapshot the VMs to have a cluster with Ambari installed, to rerun later if desired. This is especially helpful when installing Apache Ambari and the HDP stack for the first time; it allows you to back out to fresh VMs running Ambari, and reinstall a fresh HDP stack if you encounter errors. For more information about snapshots, see the <code>vagrant snapshot</code> command in &quot;Basic Vagrant Commands,&quot; later in this Quick Start.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-hdp-stack">Install the HDP Stack<a href="#install-the-hdp-stack" class="hash-link" aria-label="Direct link to Install the HDP Stack" title="Direct link to Install the HDP Stack">​</a></h2>
<p>The following instructions describe basic steps for using Ambari to install HDP components.</p>
<ol>
<li>
<p>On the Ambari screen, login using default username <code>admin</code>, password <code>admin</code>.</p>
</li>
<li>
<p>On the welcome page, choose &quot;Launch Install Wizard.&quot;</p>
</li>
<li>
<p>Specify a name for your cluster, and then click Next.</p>
</li>
<li>
<p>On the Select Version page, choose which version of HDP to install, and then click Next.</p>
</li>
<li>
<p>On the Install Options page, complete the following steps:</p>
</li>
<li>
<p>List the FQDNs of the virtual machines. For example:</p>
</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c7001.ambari.apache.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7002.ambari.apache.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c7003.ambari.apache.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Alternatively, you can use a range expression:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c70[01-03].ambari.apache.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>
<p>Upload the <code>insecure_private_key</code> file that you created earlier: browse to the <code>ambari-vagrant</code> directory, navigate to the operating system folder for your VM&#x27;s, and choose the key file.</p>
</li>
<li>
<p>Change the SSH User Account to <code>vagrant</code>.</p>
</li>
<li>
<p>Click &quot;Register and Confirm.&quot;</p>
</li>
<li>
<p>On the Confirm Hosts page, Ambari displays installation status.</p>
</li>
</ol>
<p>If you see a yellow banner with the following message, click on the link to review warnings:<img decoding="async" loading="lazy" src="/assets/images/confirm_hosts-9676e6ae927af9dfa6a064acf05c5b2d.png" title="Apache Ambari &amp;gt; Quick Start for New VM Users &amp;gt; Screen Shot 2016-09-24 at 11.31.36 AM.png" width="783" height="471" class="img_ev3q"></p>
<p>See the Troubleshooting section (later on this page) for more information.</p>
<ol start="7">
<li>When all host checks pass, close the warning window:</li>
</ol>
<p><img decoding="async" loading="lazy" src="/assets/images/host_checked-cac1bc4359c63f76bfed7ed9ae3b3291.png" title="Apache Ambari &amp;gt; Quick Start for New VM Users &amp;gt; Screen Shot 2016-09-24 at 11.45.20 AM.png" width="504" height="49" class="img_ev3q"></p>
<ol start="8">
<li>
<p>Click Next to continue:</p>
</li>
<li>
<p>On the Choose Services page, uncheck any components that you do not expect to use. If any are required for selected components, Ambari will request to add them back in.</p>
</li>
<li>
<p>On the Assign Masters screen, choose hosts or simply click Next to use default values.</p>
</li>
<li>
<p>On the Assign Slaves and Clients screen, choose hosts or simply click Next to use default values.</p>
</li>
<li>
<p>On the Customize Services screen</p>
</li>
<li>
<p>Review services with warning notes, such as Hive and Ambari Metrics in the following image:
<img decoding="async" loading="lazy" src="/assets/images/custom_services-7b3f767c31c4b36fbbfc0a9048dff2b6.png" title="Apache Ambari &amp;gt; Quick Start for New VM Users &amp;gt; Screen Shot 2016-09-24 at 11.53.17 AM.png" width="767" height="251" class="img_ev3q"></p>
</li>
<li>
<p>Specify missing property values (such as admin passwords) as directed by the installation wizard. When all configurations have been addressed, click Next.</p>
</li>
<li>
<p>On the Review screen, review the service definitions, and then click Next.</p>
</li>
<li>
<p>The Install, Start and Test page shows deployment status. This step takes a while; on an early 2013 MacBook Pro, 2.7 GHz core i7 and 16 GB RAM, this step takes 45 minutes.</p>
</li>
<li>
<p>When the cluster installs successfully, you can snapshot the VMs to have a fresh cluster with Ambari and HDP installed, to rerun later if desired. This allows you to experiment with the cluster and quickly restore back to a previous state if you wish. For more information about snapshots, see the <code>vagrant snapshot</code> command in &quot;Basic Vagrant Commands,&quot; later in this Quick Start.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<p>This subsection describes a few error conditions that might occur during Ambari installation and HDP cluster deployment:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="confirm-hosts">Confirm Hosts<a href="#confirm-hosts" class="hash-link" aria-label="Direct link to Confirm Hosts" title="Direct link to Confirm Hosts">​</a></h3>
<p>If you see an error similar to the following on the Confirm Hosts page of the Ambari installation wizard, click the link to see the warnings:
&#x27;Some warnings were encountered while performing checks against the 3 registered hosts above. Click here to see the warnings.&quot;</p>
<p><strong><code>ntpd</code> Error</strong></p>
<p>On the Host Checks window, the following warning indicates that you need to start <code>ntpd</code> on each host:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/services_issues-da920e30d5364f1cf607c326c8908979.png" title="Apache Ambari &amp;gt; Quick Start for New VM Users &amp;gt; Screen Shot 2016-09-24 at 11.32.38 AM.png" width="476" height="122" class="img_ev3q"></p>
<p>To start the services, for each VM navigate to a terminal window (on your Mac, <code>vagrant ssh &lt;vm-name&gt;&lt;/vm-name&gt;</code>). Issue the following commands:</p>
<p><code>service ntpd start</code><br> <code>service ntpd status</code></p>
<p>You should see messages confirming that <code>ntpd</code> is running. Navigate back to the Host Checks window of the Ambari installation wizard and click Rerun Checks. When all checks complete successfully, click Close to continue the installation process.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-start-and-test">Install, Start and Test<a href="#install-start-and-test" class="hash-link" aria-label="Direct link to Install, Start and Test" title="Direct link to Install, Start and Test">​</a></h3>
<p>If the Install, Start and Test step fails with the following error during DataNode deployment:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Error: Package: snappy-devel-1.0.5-1.el6.x86_64 (HDP-UTILS-1.1.0.20) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Requires: snappy(x86-64) = 1.0.5-1.el6 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Installed: snappy-1.1.0-3.el7.x86_64 (@anaconda/7.2)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Run the following commands under the root account on each VM:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">yum remove </span><span class="token parameter variable" style="color:#36acaa">-y</span><span class="token plain"> snappy-1.1.0-3.el7.x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> snappy-devel </span><span class="token parameter variable" style="color:#36acaa">-y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stopping-and-restarting-virtual-machines">Stopping and Restarting Virtual Machines<a href="#stopping-and-restarting-virtual-machines" class="hash-link" aria-label="Direct link to Stopping and Restarting Virtual Machines" title="Direct link to Stopping and Restarting Virtual Machines">​</a></h3>
<p>Hadoop is a complex ecosystem with a lot of status checks and cross-component messages. This can make it challenging to halt and restart several VMs and restore them later without warnings or errors.</p>
<p><strong>Recommendations</strong></p>
<p>If you would like to save state for a period of time and you plan to stop using your Mac during that time, if you sleep your Mac the cluster should continue from where it left off after you wake the Mac.</p>
<p>When stopping a set of VMs--if you don&#x27;t need to save cluster state--it can be helpful to stop all services first, stop ambari-server (<code>ambari-server stop</code>), and then issue a Vagrant <code>halt</code> or <code>suspend</code> command.</p>
<p>When restarting a cluster after halting or taking a snapshot, check Ambari server status and restart it if necessary:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ambari-server status   ambari-server start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After logging into the Ambari Web UI, expect to see alert warnings or errors due to timeout conditions. Check the associated messages to determine whether they might affect your use of the virtual cluster. If so, it can be helpful to stop and restart one or more associated components.</p>
<h1>Reference: Basic Vagrant Commands</h1>
<p>The following table lists several common Vagrant commands. For more information, see Vagrant <a href="https://www.vagrantup.com/docs/cli/" target="_blank" rel="noopener noreferrer">Command-Line Interface</a> documentation.</p>
<p><strong>vagrant up</strong></p>
<p>Create and configure guest machines. Example: <code>vagrant up c6406</code></p>
<p><code>up.sh</code> is a wrapper for this call. You can use this command to start more VMs after you called <code>up.sh</code>.</p>
<p>Note: if you do not specify the <code>&lt;vm-name&gt;&lt;/vm-name&gt;</code> parameter, Vagrant will attempt to start ten VMs.</p>
<p><strong>vagrant suspend []</strong></p>
<p>Save the current running state of a VM and stop the VM. A suspend effectively saves the <em>exact point-in-time state</em> of a machine. When you issue a <code>resume</code> command, the VM begins running immediately from that point, rather than doing a full boot.</p>
<p>When you are ready to begin working with it again, run <code>vagrant up</code>. The machine will resume where you left off. The main benefit of <code>suspend</code> is that it is very fast; it usually takes only 5 to 10 seconds to stop and start your work. The downside is that the operation uses disk space for the VM and to store all VM state information (in RAM, when running) on disk.</p>
<p>Optional: Specify a specific VM to suspend.</p>
<p><strong>vagrant halt</strong> <code>vagrant up</code> <code>halt</code> <strong>vagrant destroy -f [</strong></p>
<p>Remove all traces of the guest machine from your system. The <code>destroy</code> command stops the guest machine, powers it down, and removes all guest hard disks. When you are ready to begin working with it again, run <code>vagrant up</code>. The benefit of this all disk space and RAM consumed by the guest machine are reclaimed; your host machine is left clean. The downside is that the <code>vagrant up</code> operation will take extra time; rebuilding the environment takes the longest (compared with <code>suspend</code> and <code>halt</code>) because it re-imports and re-provisions the machine.</p>
<p>Optional: Specify a specific VM to destroy.</p>
<p><strong>vagrant ssh</strong></p>
<p>Starts a SSH session to the host.</p>
<p>Example: <code>vagrant ssh c6401</code>
<strong>vagrant status []</strong> <strong>vagrant snapshot</strong></p>
<p>A Vagrant snapshot saves the current state of a VM so that you can restart the VM from the same point at a future time. Commands include push, pop, save, restore, list, and delete. For more information, see <a href="https://www.vagrantup.com/docs/cli/snapshot.html" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/docs/cli/snapshot.html</a>.</p>
<p>Note: Upon resuming a snapshot, you may find that time-sensitive services such as the (HBase RegionServer) may be down. If this happens, you will need to restart those services.</p>
<p><strong>vagrant --help</strong></p>
<p><strong>Recommendation</strong>: After you start the VMs--but before you run anything on the VMs–save a snapshot. This allows you to restore the initial state of your VMs. This process is much faster than starting the VMs from scratch and then reinstalling Ambari and HDP. You can return to the initial state without destroying other named snapshots that you create later.</p>
<p>More information: <a href="https://www.vagrantup.com/docs/getting-started/teardown.html" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/docs/getting-started/teardown.html</a></p>
<p>If you have favorite ways of starting and stopping VMs running a Hadoop cluster, please feel free to share them in the Comments section. Thanks!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/vivostar/vivostar.github.io/tree/master/versioned_docs/version-2.7.8/quick-start/quick-start-for-new-vm-users.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/2.7.8/quick-start/quick-start-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick Start Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/2.7.8/ambari-design/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ambari Design</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#terminology" class="table-of-contents__link toc-highlight">Terminology</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#install-virtualbox-and-vagrant" class="table-of-contents__link toc-highlight">Install VirtualBox and Vagrant</a></li><li><a href="#start-linux-virtual-machines" class="table-of-contents__link toc-highlight">Start Linux Virtual Machines</a></li><li><a href="#access-virtual-machines" class="table-of-contents__link toc-highlight">Access Virtual Machines</a></li><li><a href="#install-ambari-on-the-virtual-machines" class="table-of-contents__link toc-highlight">Install Ambari on the Virtual Machines</a></li><li><a href="#install-the-hdp-stack" class="table-of-contents__link toc-highlight">Install the HDP Stack</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#confirm-hosts" class="table-of-contents__link toc-highlight">Confirm Hosts</a></li><li><a href="#install-start-and-test" class="table-of-contents__link toc-highlight">Install, Start and Test</a></li><li><a href="#stopping-and-restarting-virtual-machines" class="table-of-contents__link toc-highlight">Stopping and Restarting Virtual Machines</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2025 Apache Ambari. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>